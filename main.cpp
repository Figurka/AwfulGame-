#pragma once
#include <SFML/Graphics.hpp>
#include "map.h"
#include "Class.h"
#include "map.h"
#include <list>
using namespace sf;

int main()
{
	RenderWindow window(sf::VideoMode(1600, 928), "awful game", sf::Style::Resize);
	Image map_imagee;//?????????? ?? ???
		map_imagee.loadFromFile("Image/juh.png");//??????? ?? ???
		Texture mapp;//???? ???
		mapp.loadFromImage(map_imagee);//???? ???? ?????
		Sprite j_map;//??? ??? ?? ???
		j_map.setTexture(mapp);



		Image EnemImage;
		EnemImage.loadFromFile("Image/sailorenemy.png");
		EnemImage.createMaskFromColor(Color(255, 255, 255));

	

		while (window.isOpen())
		{
			sf::Event event;
			while (window.pollEvent(event))
			{
				if (event.type == sf::Event::Closed) { window.close(); }

			}

	/////////////////////////////Map////////////////////
			for (int i = 0; i < HEIGHT_MAP; i++)
				for (int j = 0; j < WIDTH_MAP; j++)
				{
					if (TileMap[i][j] == '1') {
						j_map.setTextureRect(sf::IntRect(0, 0, 32, 32)); //?? ???????? ???, ? ??? 1??????
						j_map.setPosition(j * 32, i * 32);
					};//? ?? ?????? ?????, ????? ???? ? ?? ??? ????? ?? ????. ?? ???, ? ?? ???????? ???????? 32*32 ?? ??? ?? ????
					if (TileMap[i][j] == '0') {
						j_map.setTextureRect(sf::IntRect(33, 0, 32, 32)); //?? ???????? ???, ? ??? 1??????
						j_map.setPosition(j * 32, i * 32);
					};
					if (TileMap[i][j] == ' ') {
						j_map.setTextureRect(sf::IntRect(66, 0, 32, 32)); //?? ???????? ???, ? ??? 1??????
						j_map.setPosition(j * 32, i * 32);
					};
					if (TileMap[i][j] == '2') {
						j_map.setTextureRect(sf::IntRect(99, 0, 32, 32)); //?? ???????? ???, ? ??? 1??????
						j_map.setPosition(j * 32, i * 32);
					};
					if (TileMap[i][j] == '4') {
						j_map.setTextureRect(sf::IntRect(133, 0, 64, 64)); //?? ???????? ???, ? ??? 1??????
						j_map.setPosition(j * 32, i * 32);
					};
					if (TileMap[i][j] == '5') {
						j_map.setTextureRect(sf::IntRect(0, 33, 32, 32)); //?? ???????? ???, ? ??? 1??????
						j_map.setPosition(j * 32, i * 32);
					};
					window.draw(j_map);
				}

				
				window.display();
			}

	return 0;
}